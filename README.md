# MC-SMP

A ruby MineCraft server management platform connector.

# Running the connector

The project requires Ruby >2.7 with the `bundler` gem installed (Most likelly installed by default).
Java (any version that can run a MineCraft server) is also required to actually run a server, the
`java` binary must be in the `PATH`

Clone the repository
```sh
git clone https://github.com/System-rat/mcsmp
cd mcsmp
```

Install the required dependencies
```sh
bundler install
```

Run the connector with a target folder (The location of the server folders)
```sh
mkdir tmp
bundler exec mcsmp start_connector -P tmp
```

## Executable options and flags

The executable currently only has 1 real usable command: `start_connector` which starts the connector at the target folder.

The `start_connector` command has the following options and flags:
 - `-P` start a `pry` (debugging tool) instance after the connector has started
 - `-k` set the connection secret (passed to the connector for authentication (Autogenerated if the connector is not local and
 the secret wasn't specified)
 - `-l` run the connector in "non local mode", which requires passing a secret to every request (In the HTTP_AUTHORIZATION header)
 - `-p` set the connector port
 - `-h` set the connector host

# Current features

Currently the connector has the following features:
 - Get a list of servers (With their status and logs)
 - Create/delete a server
 - Start, stop, restart servers
 - Change server properties
 - Change server JVM arguments
 - Set server version
 - Download latest release or snapshot

All functionality is through the HTTP API (See the [http_connector.rb](lib/mcsmp/http_connector.rb) file for the API)

## License

The gem is available as open source under the terms of the [MIT License](https://opensource.org/licenses/MIT).
