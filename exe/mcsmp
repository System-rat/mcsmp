#!/usr/bin/env ruby
# frozen_string_literal: true

require 'mcsmp'
require 'optparse'
require 'thor'
autoload :MCSMP, 'lib/mcsmp'

# The main CLI
class MCSMPCLI < Thor
  desc 'run PATH', 'Run a MineCraft instance at the target PATH'
  def run_server(path = File.absolute_path(Dir.pwd))
    instance = MCSMP::ServerInstance.from_existing(path)
    runner = MCSMP::ServerRunner.new(instance)
    runner.start_sync
  end
end

MCSMPCLI.start
